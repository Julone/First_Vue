(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-e594837a"],{2161:function(t,e,a){"use strict";var n=a("709b");a.n(n).a},"709b":function(t,e,a){},"75f2":function(t,e,a){t.exports=a("87ba")},"87ba":function(t,e,a){a("82bd"),a("d67e"),t.exports=a("fa60")},a2f9:function(t,e,a){"use strict";a.r(e);var n,s=a("5f19"),i=a("7486"),l=a("75f2"),o=a.n(l),r=(a("ac74"),a("0a16"),a("2be9")),c=a("fd2d"),d=a("48e4"),u=(n={components:{foot:c.a},data:function(){return{newsArray:[],curNews:null,show:!1,loading:!1,firstLoad:!0,activeName:"",loadGif:null}}},Object(s.a)(n,"components",{gettop:d.default}),Object(s.a)(n,"watch",{show:function(t){this.$refs.container.style.overflow=t?"hidden":"unset"}}),Object(s.a)(n,"computed",{setTime:function(){return function(t){return Object(r.l)(t)}}}),Object(s.a)(n,"methods",{errorImg:function(t){console.log(t),console.log(134)},tagClick:function(t){this.activeName=t.name||this.activeName,this.loadGif=this.$loading({lock:!0,text:"正在加载",spinner:"el-icon-loading",background:"rgba(255,255,255,.97)"}),this.newsArray.splice(0,this.newsArray.length),this.loadNews()},openNews:function(t){this.show=!0,this.curNews=t.replace(/^http/,"https"),Object(r.j)(function(){this.closeNews()}.bind(this))},closeNews:function(){this.show=!1,this.curNews=null},loadNews:function(){this.loading||(this.loading=!0,$.ajax({type:"get",url:"https://news.baidu.com/sn/api/feed_channellist",data:{form:"news_webapp",pd:"webapp",os:"iphone",ver:6,category_name:this.activeName,category_id:"",action:1,display_time:0,wf:0,mid:"0C9F6BCFD7E0621BF59CD025E934B017:FG=1"},dataType:"jsonp",jsonp:"callback",success:function(t){var e;console.log(t.data.news);var a=t.data.news.map(function(t,e,a){var n={};n.title=t.title,n.src=t.site,n.url=t.url,n.imgs=[],n.time=Object(r.l)(t.ts);var s=!0,i=!1,l=void 0;try{for(var c,d=o()(t.imageurls);!(s=(c=d.next()).done);s=!0){var u=c.value;n.imgs.push(u.url)}}catch(t){i=!0,l=t}finally{try{s||null==d.return||d.return()}finally{if(i)throw l}}return n});console.log(a),(e=this.newsArray).push.apply(e,Object(i.a)(a.filter(function(t){return t}))),this.loading=!1,this.loadGif&&this.loadGif.close()}.bind(this)}))}}),Object(s.a)(n,"mounted",function(){var t=this;this.loadNews(),setTimeout(function(){t.firstLoad=!1,t.newsArray<6&&t.loadNews()},1e3)}),n),m=(a("2161"),a("fc05")),f=Object(m.a)(u,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen",value:t.firstLoad,expression:"firstLoad",modifiers:{fullscreen:!0}},{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadNews,expression:"loadNews"}],ref:"container",staticClass:"news_container container",attrs:{"infinite-scroll-disabled":t.loading,"infinite-scroll-distance":"50"}},[a("div",{staticClass:"news_nav"},[a("el-tabs",{staticClass:"container-tab",staticStyle:{"margin-bottom":"-10px","overflow-x":"auto"},on:{"tab-click":t.tagClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"推荐",name:""}}),a("el-tab-pane",{attrs:{label:"互联网",name:"互联网"}}),a("el-tab-pane",{attrs:{label:"娱乐",name:"娱乐"}}),a("el-tab-pane",{attrs:{label:"国际",name:"国际"}}),a("el-tab-pane",{attrs:{label:"生活",name:"生活"}}),a("el-tab-pane",{attrs:{label:"科技",name:"科技"}}),a("el-tab-pane",{attrs:{label:"军事",name:"军事"}}),a("el-tab-pane",{attrs:{label:"时尚",name:"时尚"}}),a("el-tab-pane",{attrs:{label:"图片",name:"图片"}})],1)],1),a("transition-group",{staticClass:"news_wrapper",attrs:{name:"news",tag:"div"}},t._l(t.newsArray,function(e){return a("div",{key:e,staticClass:"news_item",class:1==e.imgs.length?"item_one":2==e.imgs.length?"item_two":3==e.imgs.length?"item_three":"item_none"},[a("a",{attrs:{href:e.url,target:"_blank"}},[a("div",{staticClass:"item_main"},[a("div",{staticClass:"item_left"},[a("div",{staticClass:"item_head"},[t._v("\n                            "+t._s(e.title)+"\n                        ")]),a("div",{staticClass:"item_body"},[t._v("\n                            "+t._s(e.body)+"\n                        ")]),1==e.imgs.length?a("div",{staticClass:"item_time"},[t._v("\n                            "+t._s(e.src)+" • "+t._s(e.time)+"\n                        ")]):t._e()]),a("div",{staticClass:"item_imgs"},t._l(e.imgs,function(e){return a("img",{key:e,attrs:{src:e,onerror:t.errorImg,alt:"图片加载失败"}})}),0),1!=e.imgs.length?a("div",{staticClass:"item_time"},[t._v("\n                        "+t._s(e.src)+" • "+t._s(e.time)+"\n                    ")]):t._e()])])])}),0),0!=t.newsArray.length||t.loading?t._e():a("div",{staticClass:"empty",on:{click:t.tagClick}},[a("div",[t._m(0),a("br"),a("el-button",{attrs:{type:"text",disabled:""}},[t._v("加载失败,点击屏幕重试")]),a("br"),a("br"),a("el-button",{on:{click:t.tagClick}},[t._v("立即刷新")])],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:0!=t.newsArray.length&&t.loading,expression:"newsArray.length != 0&& loading"}],staticClass:"bottom"},[a("div",{staticClass:"rotate",on:{click:t.loadNews}},[a("i",{staticClass:"comIcon"},[t._v("")])])]),a("gettop")],1)},[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"repair"},[a("i",{staticClass:"comIcon",staticStyle:{"font-size":"5rem"}},[t._v("")])])}],!1,null,"477bedfe",null);e.default=f.exports},fa60:function(t,e,a){var n=a("03e0"),s=a("a3e1");t.exports=a("9c9a").getIterator=function(t){var e=s(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return n(e.call(t))}}}]);